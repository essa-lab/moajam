<div class="container mt-5">
  <div class="card" style="max-width: 600px; margin: auto;">
    <div class="card-header bg-primary text-white">
      Chat Room
    </div>
    <div class="card-body" style="height: 400px; overflow-y: auto;">

      <div *ngFor="let message of messages" class="mb-2">


        <div *ngIf="!message.isMe" class="p-3 border rounded bg-light">
          <span class="badge bg-secondary">{{ message.user }}:</span>

          <!-- Word -->
          <div *ngIf="message.text?.word">
            <h5 class="text-primary">الكلمة: {{ message.text.word }}</h5>
          </div>

          <!-- Root -->
          <div *ngIf="message.text?.root">
            <h5 class="text-success">الجذر: {{ message.text.root }}</h5>
          </div>

          <!-- Meanings -->
          <div *ngIf="message.text?.meanings">
            <h6 class="mt-3">المعاني:</h6>
            <ul>
              <li *ngFor="let m of message.text.meanings" [innerHTML]="m.meaning"></li>
            </ul>
          </div>

          <!-- General Info -->
          <div *ngIf="message.text?.generalInfo">
            <h6 class="mt-3">معلومات عامة:</h6>
            <p>{{ message.text.generalInfo }}</p>
          </div>

          <!-- Nouns -->
          <div *ngIf="message.text?.nouns">
            <h6 class="mt-3">أسماء:</h6>
            <ul>
              <li *ngFor="let noun of message.text.nouns">{{ noun }}</li>
            </ul>
          </div>

          <!-- Verbs -->
          <div *ngIf="message.text?.verbs">
            <h6 class="mt-3">أفعال:</h6>
            <ul>
              <li *ngFor="let verb of message.text.verbs">{{ verb }}</li>
            </ul>
          </div>



        </div>



        <div *ngIf="message.isMe" class="text-end">
          <span class="badge bg-secondary">{{ message.user }}:</span>
          <span class="ms-1">{{ message.text }}</span>
        </div>




      </div>

      <div *ngIf="isBotTyping" class="typing-indicator">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <app-options (selectOption)="onSelectOption($event)"></app-options>
    </div>
    <div class="card-footer">
      <app-message-input (sendMessage)="onSendMessage($event)"></app-message-input>
    </div>
  </div>
</div>